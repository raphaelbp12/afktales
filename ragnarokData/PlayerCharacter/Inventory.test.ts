import { Inventory } from "./Inventory";

describe("Inventory", () => {
  it("should serialize an empty new account, deserialize a string and return an Account instance", () => {
    const string = `{\"items\":[{\"id\":504,\"nameid\":504,\"amount\":200,\"equip\":0,\"identify\":\"\",\"refine\":0,\"grade\":\"\",\"attribute\":\"\",\"card\":[0],\"expire_time\":0,\"favorite\":\"\",\"bound\":\"\",\"unique_id\":0,\"option\":[]},{\"id\":2102,\"nameid\":2102,\"amount\":1,\"equip\":0,\"identify\":\"\",\"refine\":0,\"grade\":\"\",\"attribute\":\"\",\"card\":[0],\"expire_time\":0,\"favorite\":\"\",\"bound\":\"\",\"unique_id\":0,\"option\":[]},{\"id\":2104,\"nameid\":2104,\"amount\":1,\"equip\":0,\"identify\":\"\",\"refine\":0,\"grade\":\"\",\"attribute\":\"\",\"card\":[0],\"expire_time\":0,\"favorite\":\"\",\"bound\":\"\",\"unique_id\":0,\"option\":[]},{\"id\":1202,\"nameid\":1202,\"amount\":1,\"equip\":0,\"identify\":\"\",\"refine\":0,\"grade\":\"\",\"attribute\":\"\",\"card\":[0,0,0,0],\"expire_time\":0,\"favorite\":\"\",\"bound\":\"\",\"unique_id\":0,\"option\":[]},{\"id\":1208,\"nameid\":1208,\"amount\":1,\"equip\":0,\"identify\":\"\",\"refine\":0,\"grade\":\"\",\"attribute\":\"\",\"card\":[0,0,0,0],\"expire_time\":0,\"favorite\":\"\",\"bound\":\"\",\"unique_id\":0,\"option\":[]},{\"id\":1606,\"nameid\":1606,\"amount\":1,\"equip\":0,\"identify\":\"\",\"refine\":0,\"grade\":\"\",\"attribute\":\"\",\"card\":[0],\"expire_time\":0,\"favorite\":\"\",\"bound\":\"\",\"unique_id\":0,\"option\":[]},{\"id\":1705,\"nameid\":1705,\"amount\":1,\"equip\":0,\"identify\":\"\",\"refine\":0,\"grade\":\"\",\"attribute\":\"\",\"card\":[0,0,0,0],\"expire_time\":0,\"favorite\":\"\",\"bound\":\"\",\"unique_id\":0,\"option\":[]},{\"id\":1138,\"nameid\":1138,\"amount\":1,\"equip\":0,\"identify\":\"\",\"refine\":0,\"grade\":\"\",\"attribute\":\"\",\"card\":[0],\"expire_time\":0,\"favorite\":\"\",\"bound\":\"\",\"unique_id\":0,\"option\":[]},{\"id\":1151,\"nameid\":1151,\"amount\":1,\"equip\":0,\"identify\":\"\",\"refine\":0,\"grade\":\"\",\"attribute\":\"\",\"card\":[0,0],\"expire_time\":0,\"favorite\":\"\",\"bound\":\"\",\"unique_id\":0,\"option\":[]},{\"id\":1251,\"nameid\":1251,\"amount\":1,\"equip\":0,\"identify\":\"\",\"refine\":0,\"grade\":\"\",\"attribute\":\"\",\"card\":[0,0,0],\"expire_time\":0,\"favorite\":\"\",\"bound\":\"\",\"unique_id\":0,\"option\":[]},{\"id\":13150,\"nameid\":13150,\"amount\":1,\"equip\":0,\"identify\":\"\",\"refine\":0,\"grade\":\"\",\"attribute\":\"\",\"card\":[0,0,0],\"expire_time\":0,\"favorite\":\"\",\"bound\":\"\",\"unique_id\":0,\"option\":[]},{\"id\":2601,\"nameid\":2601,\"amount\":1,\"equip\":0,\"identify\":\"\",\"refine\":0,\"grade\":\"\",\"attribute\":\"\",\"card\":[0],\"expire_time\":0,\"favorite\":\"\",\"bound\":\"\",\"unique_id\":0,\"option\":[]},{\"id\":2602,\"nameid\":2602,\"amount\":1,\"equip\":0,\"identify\":\"\",\"refine\":0,\"grade\":\"\",\"attribute\":\"\",\"card\":[0],\"expire_time\":0,\"favorite\":\"\",\"bound\":\"\",\"unique_id\":0,\"option\":[]},{\"id\":2604,\"nameid\":2604,\"amount\":1,\"equip\":0,\"identify\":\"\",\"refine\":0,\"grade\":\"\",\"attribute\":\"\",\"card\":[0],\"expire_time\":0,\"favorite\":\"\",\"bound\":\"\",\"unique_id\":0,\"option\":[]},{\"id\":2506,\"nameid\":2506,\"amount\":1,\"equip\":0,\"identify\":\"\",\"refine\":0,\"grade\":\"\",\"attribute\":\"\",\"card\":[0],\"expire_time\":0,\"favorite\":\"\",\"bound\":\"\",\"unique_id\":0,\"option\":[]},{\"id\":2504,\"nameid\":2504,\"amount\":1,\"equip\":0,\"identify\":\"\",\"refine\":0,\"grade\":\"\",\"attribute\":\"\",\"card\":[0],\"expire_time\":0,\"favorite\":\"\",\"bound\":\"\",\"unique_id\":0,\"option\":[]},{\"id\":2406,\"nameid\":2406,\"amount\":1,\"equip\":0,\"identify\":\"\",\"refine\":0,\"grade\":\"\",\"attribute\":\"\",\"card\":[0],\"expire_time\":0,\"favorite\":\"\",\"bound\":\"\",\"unique_id\":0,\"option\":[]},{\"id\":2404,\"nameid\":2404,\"amount\":1,\"equip\":0,\"identify\":\"\",\"refine\":0,\"grade\":\"\",\"attribute\":\"\",\"card\":[0],\"expire_time\":0,\"favorite\":\"\",\"bound\":\"\",\"unique_id\":0,\"option\":[]},{\"id\":2302,\"nameid\":2302,\"amount\":1,\"equip\":0,\"identify\":\"\",\"refine\":0,\"grade\":\"\",\"attribute\":\"\",\"card\":[0],\"expire_time\":0,\"favorite\":\"\",\"bound\":\"\",\"unique_id\":0,\"option\":[]},{\"id\":2306,\"nameid\":2306,\"amount\":1,\"equip\":0,\"identify\":\"\",\"refine\":0,\"grade\":\"\",\"attribute\":\"\",\"card\":[0],\"expire_time\":0,\"favorite\":\"\",\"bound\":\"\",\"unique_id\":0,\"option\":[]},{\"id\":2202,\"nameid\":2202,\"amount\":1,\"equip\":0,\"identify\":\"\",\"refine\":0,\"grade\":\"\",\"attribute\":\"\",\"card\":[0],\"expire_time\":0,\"favorite\":\"\",\"bound\":\"\",\"unique_id\":0,\"option\":[]},{\"id\":2205,\"nameid\":2205,\"amount\":1,\"equip\":0,\"identify\":\"\",\"refine\":0,\"grade\":\"\",\"attribute\":\"\",\"card\":[0],\"expire_time\":0,\"favorite\":\"\",\"bound\":\"\",\"unique_id\":0,\"option\":[]},{\"id\":2209,\"nameid\":2209,\"amount\":1,\"equip\":0,\"identify\":\"\",\"refine\":0,\"grade\":\"\",\"attribute\":\"\",\"card\":[0],\"expire_time\":0,\"favorite\":\"\",\"bound\":\"\",\"unique_id\":0,\"option\":[]},{\"id\":2224,\"nameid\":2224,\"amount\":1,\"equip\":0,\"identify\":\"\",\"refine\":0,\"grade\":\"\",\"attribute\":\"\",\"card\":[0],\"expire_time\":0,\"favorite\":\"\",\"bound\":\"\",\"unique_id\":0,\"option\":[]},{\"id\":2264,\"nameid\":2264,\"amount\":1,\"equip\":0,\"identify\":\"\",\"refine\":0,\"grade\":\"\",\"attribute\":\"\",\"card\":[0],\"expire_time\":0,\"favorite\":\"\",\"bound\":\"\",\"unique_id\":0,\"option\":[]},{\"id\":2269,\"nameid\":2269,\"amount\":1,\"equip\":0,\"identify\":\"\",\"refine\":0,\"grade\":\"\",\"attribute\":\"\",\"card\":[0],\"expire_time\":0,\"favorite\":\"\",\"bound\":\"\",\"unique_id\":0,\"option\":[]},{\"id\":4043,\"nameid\":4043,\"amount\":8,\"equip\":0,\"identify\":\"\",\"refine\":0,\"grade\":\"\",\"attribute\":\"\",\"card\":[0],\"expire_time\":0,\"favorite\":\"\",\"bound\":\"\",\"unique_id\":0,\"option\":[]},{\"id\":2102,\"nameid\":2102,\"amount\":1,\"equip\":0,\"identify\":\"\",\"refine\":0,\"grade\":\"\",\"attribute\":\"\",\"card\":[0],\"expire_time\":0,\"favorite\":\"\",\"bound\":\"\",\"unique_id\":0,\"option\":[]},{\"id\":2104,\"nameid\":2104,\"amount\":1,\"equip\":0,\"identify\":\"\",\"refine\":0,\"grade\":\"\",\"attribute\":\"\",\"card\":[0],\"expire_time\":0,\"favorite\":\"\",\"bound\":\"\",\"unique_id\":0,\"option\":[]},{\"id\":1202,\"nameid\":1202,\"amount\":1,\"equip\":0,\"identify\":\"\",\"refine\":0,\"grade\":\"\",\"attribute\":\"\",\"card\":[0,0,0,0],\"expire_time\":0,\"favorite\":\"\",\"bound\":\"\",\"unique_id\":0,\"option\":[]},{\"id\":1208,\"nameid\":1208,\"amount\":1,\"equip\":0,\"identify\":\"\",\"refine\":0,\"grade\":\"\",\"attribute\":\"\",\"card\":[0,0,0,0],\"expire_time\":0,\"favorite\":\"\",\"bound\":\"\",\"unique_id\":0,\"option\":[]},{\"id\":1606,\"nameid\":1606,\"amount\":1,\"equip\":0,\"identify\":\"\",\"refine\":0,\"grade\":\"\",\"attribute\":\"\",\"card\":[0],\"expire_time\":0,\"favorite\":\"\",\"bound\":\"\",\"unique_id\":0,\"option\":[]},{\"id\":1705,\"nameid\":1705,\"amount\":1,\"equip\":0,\"identify\":\"\",\"refine\":0,\"grade\":\"\",\"attribute\":\"\",\"card\":[0,0,0,0],\"expire_time\":0,\"favorite\":\"\",\"bound\":\"\",\"unique_id\":0,\"option\":[]},{\"id\":1138,\"nameid\":1138,\"amount\":1,\"equip\":0,\"identify\":\"\",\"refine\":0,\"grade\":\"\",\"attribute\":\"\",\"card\":[0],\"expire_time\":0,\"favorite\":\"\",\"bound\":\"\",\"unique_id\":0,\"option\":[]},{\"id\":1151,\"nameid\":1151,\"amount\":1,\"equip\":0,\"identify\":\"\",\"refine\":0,\"grade\":\"\",\"attribute\":\"\",\"card\":[0,0],\"expire_time\":0,\"favorite\":\"\",\"bound\":\"\",\"unique_id\":0,\"option\":[]},{\"id\":1251,\"nameid\":1251,\"amount\":1,\"equip\":0,\"identify\":\"\",\"refine\":0,\"grade\":\"\",\"attribute\":\"\",\"card\":[0,0,0],\"expire_time\":0,\"favorite\":\"\",\"bound\":\"\",\"unique_id\":0,\"option\":[]},{\"id\":13150,\"nameid\":13150,\"amount\":1,\"equip\":0,\"identify\":\"\",\"refine\":0,\"grade\":\"\",\"attribute\":\"\",\"card\":[0,0,0],\"expire_time\":0,\"favorite\":\"\",\"bound\":\"\",\"unique_id\":0,\"option\":[]},{\"id\":2601,\"nameid\":2601,\"amount\":1,\"equip\":0,\"identify\":\"\",\"refine\":0,\"grade\":\"\",\"attribute\":\"\",\"card\":[0],\"expire_time\":0,\"favorite\":\"\",\"bound\":\"\",\"unique_id\":0,\"option\":[]},{\"id\":2602,\"nameid\":2602,\"amount\":1,\"equip\":0,\"identify\":\"\",\"refine\":0,\"grade\":\"\",\"attribute\":\"\",\"card\":[0],\"expire_time\":0,\"favorite\":\"\",\"bound\":\"\",\"unique_id\":0,\"option\":[]},{\"id\":2604,\"nameid\":2604,\"amount\":1,\"equip\":0,\"identify\":\"\",\"refine\":0,\"grade\":\"\",\"attribute\":\"\",\"card\":[0],\"expire_time\":0,\"favorite\":\"\",\"bound\":\"\",\"unique_id\":0,\"option\":[]},{\"id\":2506,\"nameid\":2506,\"amount\":1,\"equip\":0,\"identify\":\"\",\"refine\":0,\"grade\":\"\",\"attribute\":\"\",\"card\":[0],\"expire_time\":0,\"favorite\":\"\",\"bound\":\"\",\"unique_id\":0,\"option\":[]},{\"id\":2504,\"nameid\":2504,\"amount\":1,\"equip\":0,\"identify\":\"\",\"refine\":0,\"grade\":\"\",\"attribute\":\"\",\"card\":[0],\"expire_time\":0,\"favorite\":\"\",\"bound\":\"\",\"unique_id\":0,\"option\":[]},{\"id\":2406,\"nameid\":2406,\"amount\":1,\"equip\":0,\"identify\":\"\",\"refine\":0,\"grade\":\"\",\"attribute\":\"\",\"card\":[0],\"expire_time\":0,\"favorite\":\"\",\"bound\":\"\",\"unique_id\":0,\"option\":[]},{\"id\":2404,\"nameid\":2404,\"amount\":1,\"equip\":0,\"identify\":\"\",\"refine\":0,\"grade\":\"\",\"attribute\":\"\",\"card\":[0],\"expire_time\":0,\"favorite\":\"\",\"bound\":\"\",\"unique_id\":0,\"option\":[]},{\"id\":2302,\"nameid\":2302,\"amount\":1,\"equip\":0,\"identify\":\"\",\"refine\":0,\"grade\":\"\",\"attribute\":\"\",\"card\":[0],\"expire_time\":0,\"favorite\":\"\",\"bound\":\"\",\"unique_id\":0,\"option\":[]},{\"id\":2306,\"nameid\":2306,\"amount\":1,\"equip\":0,\"identify\":\"\",\"refine\":0,\"grade\":\"\",\"attribute\":\"\",\"card\":[0],\"expire_time\":0,\"favorite\":\"\",\"bound\":\"\",\"unique_id\":0,\"option\":[]},{\"id\":2202,\"nameid\":2202,\"amount\":1,\"equip\":0,\"identify\":\"\",\"refine\":0,\"grade\":\"\",\"attribute\":\"\",\"card\":[0],\"expire_time\":0,\"favorite\":\"\",\"bound\":\"\",\"unique_id\":0,\"option\":[]},{\"id\":2205,\"nameid\":2205,\"amount\":1,\"equip\":0,\"identify\":\"\",\"refine\":0,\"grade\":\"\",\"attribute\":\"\",\"card\":[0],\"expire_time\":0,\"favorite\":\"\",\"bound\":\"\",\"unique_id\":0,\"option\":[]},{\"id\":2209,\"nameid\":2209,\"amount\":1,\"equip\":0,\"identify\":\"\",\"refine\":0,\"grade\":\"\",\"attribute\":\"\",\"card\":[0],\"expire_time\":0,\"favorite\":\"\",\"bound\":\"\",\"unique_id\":0,\"option\":[]},{\"id\":2224,\"nameid\":2224,\"amount\":1,\"equip\":0,\"identify\":\"\",\"refine\":0,\"grade\":\"\",\"attribute\":\"\",\"card\":[0],\"expire_time\":0,\"favorite\":\"\",\"bound\":\"\",\"unique_id\":0,\"option\":[]},{\"id\":2264,\"nameid\":2264,\"amount\":1,\"equip\":0,\"identify\":\"\",\"refine\":0,\"grade\":\"\",\"attribute\":\"\",\"card\":[0],\"expire_time\":0,\"favorite\":\"\",\"bound\":\"\",\"unique_id\":0,\"option\":[]},{\"id\":2269,\"nameid\":2269,\"amount\":1,\"equip\":0,\"identify\":\"\",\"refine\":0,\"grade\":\"\",\"attribute\":\"\",\"card\":[0],\"expire_time\":0,\"favorite\":\"\",\"bound\":\"\",\"unique_id\":0,\"option\":[]}]}`;
    const des = Inventory.deserialize(1000, string);
    expect(des).toBeInstanceOf(Inventory);
    expect(des.getItems().length).toBe(1000);
    expect(des.getItemInSlot(0)?.nameid).toBe(504);
    expect(des.getItemInSlot(0)?.Amount).toBe(200);
    expect(des.getItemInSlot(10)?.nameid).toBe(13150);
    expect(des.getItemInSlot(10)?.Name).toBe("Branch");
  });
});
